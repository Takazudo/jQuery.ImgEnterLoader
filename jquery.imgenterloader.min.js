/*! jQuery.ImgEnterLoader (https://github.com/Takazudo/jQuery.ImgEnterLoader)
 * lastupdate: 2013-09-04
 * version: 0.1.0
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){var e={}.hasOwnProperty,t=function(t,r){function n(){this.constructor=t}for(var o in r)e.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};(function(e){var r,n,o;return n=window.EveEve,r=e(window),o={},o.limit=function(e,t,r){var n;return n=null,function(){var o,i,s;return i=this,o=arguments,s=function(){return n=null,e.apply(i,o)},r&&clearTimeout(n),r||!n?n=setTimeout(s,t):void 0}},o.throttle=function(e,t){return o.limit(e,t,!1)},o.debounce=function(e,t){return o.limit(e,t,!0)},o.loadImg=function(t){var r,n,o;return n=e.Deferred(),o=new Image,r=function(){return o.onload=o.onerror=null},o.onload=function(){return n.resolve(o)},o.onerror=function(){return n.reject(o)},o.src=t,n.promise()},o.isAboveTheWindow=function(t,n){var o,i;return o={threshold:0},t.length>1?(e.error("2 or more elements were thrown."),!1):(i=e.extend({},o,n),r.scrollTop()>=t.offset().top+i.threshold+t.innerHeight())},o.isBelowTheWindow=function(t,n){var o,i;return o={threshold:0},t.size()>1?(e.error("2 or more elements were thrown."),!1):(i=e.extend({},o,n),r.height()+r.scrollTop()<=t.offset().top-i.threshold)},o.isInWindow=function(e){return!o.isAboveTheWindow(e)&&!o.isBelowTheWindow(e)},o.Winwatcher=function(e){function n(){var e=this;r.bind(o,function(){return e.trigger("resize")})}var o;return t(n,e),o="resize scroll orientationchange",n}(n),o.winwatcher=new o.Winwatcher,o.Loader=function(){function t(t,r){this.$el=t,this.loaded=!1,this.options=e.extend({},o.Loader.defaults,r),this.imgsrc=this.options.imgsrc||this.$el.attr(this.options.imgsrc_attr),this._watchResize(),this.check()}return t.defaults={threshold:0,throttle_millisec:200,enter:e.noop,imgsrc:null,imgsrc_attr:"data-enterload",imgload:function(e,t){return t.hide(),e.append(t),t.fadeIn()}},t.prototype.check=function(){var t=this;if(!this.loaded)return o.isInWindow(this.$el)?(this.loaded=!0,this.options.enter(this.$el),o.loadImg(this.imgsrc).done(function(r){return t.options.imgload(t.$el,e(r))}),this._unwatchResize()):void 0},t.prototype._watchResize=function(){var e=this;return this._resizeHandler=o.throttle(function(){return e.check()},this.options.throttle_millisec),o.winwatcher.on("resize",this._resizeHandler)},t.prototype._unwatchResize=function(){return o.winwatcher.off("resize",this._resizeHandler)},t}(),e.fn.imgEnterLoad=function(t){return this.each(function(r,n){var i,s;i=e(n),s=new o.Loader(i,t),i.data("imgenterloader",s)})},e.ImgEnterLoaderNs=o,e.ImgEnterLoader=o.Loader})(jQuery)}).call(this);